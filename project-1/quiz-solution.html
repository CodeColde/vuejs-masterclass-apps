<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Vue 3.4 Template</title>
        <link rel="stylesheet" href="https://unpkg.com/normalize.css/normalize.css">
        <style type="text/css">
            body {
                font-family: monospace;
                padding: 20px;
                font-size: 2em;
            }
        </style>
    <script src="https://unpkg.com/vue@3"></script>
    </head>
    <body>
        <div id="app">
            <p><a href="./index.html">Back...</a></p>
            <h1>{{ areWeDone ? "Your score: " + score : "Next Question"}}</h1>
            <h3>{{ question }}</h3>
            <input v-model="answer" />
        </div>
        <script>
            const { createApp, ref, computed } = Vue;
            const App = {
                setup() {
                    const questions = [
                        "How much is 2+2",
                        "How much is 3 x 3",
                        "How much is 5 + 7 x 3 - 4",
                    ];
                    const answers = [
                        "4",
                        "9",
                        "22"
                    ]
                    const score = ref(0);
                    const currentQuestion = ref(0);
                    const answer = ref(null);

                    const question = computed(() => {
                        return questions[currentQuestion.value];
                    });
                    const rightAnswer = computed(() => {
                        return answers[currentQuestion.value];
                    });
                    const areWeDone = computed(() => questions.length === currentQuestion.value);

                    const check = () => {
                        if (answer.value === rightAnswer.value) {
                            score.value++;
                        }

                        answer.value = null;
                        currentQuestion.value++;

                        if (areWeDone.value) {
                            clearInterval(interval);
                        }
                    }

                    const interval = setInterval(check, 5000)

                    return {
                        score,
                        answer,
                        question,
                        areWeDone
                    }
                },
            };

            createApp(App).mount('#app');
        </script>
    </body>
</html>